"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[459],{25:function(e,n,t){t.d(n,{AR:function(){return f},Hx:function(){return b},Wg:function(){return p},bI:function(){return l},xc:function(){return m}});var r=t(861),c=t(757),o=t.n(c),a="https://api.themoviedb.org/3",u="7c2b5f1208ac9dcd0fcc391e6217ace1";function i(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(o().mark((function e(){var n,t,r,c=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>0&&void 0!==c[0]?c[0]:"",t=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(n,t);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function f(){return i("".concat(a,"/trending/movie/day?api_key=").concat(u))}function l(e){return i("".concat(a,"/search/movie?api_key=").concat(u,"&query=").concat(e,"&language=en-US&page=1&include_adult=false"))}function p(e){return i("".concat(a,"/movie/").concat(e,"?api_key=").concat(u,"&language=en-US"))}function m(e){return i("".concat(a,"/movie/").concat(e,"/credits?api_key=").concat(u,"&language=en-US"))}function b(e){return i("".concat(a,"/movie/").concat(e,"/reviews?api_key=").concat(u,"&language=en-US&page=1"))}},459:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(885),c=t(791),o=t(501),a=t(871),u=t(25),i="MoviesPage_link__Lj8cH",s=t(942),f=t(413),l="Form_searchForm__eyCyq",p="Form_searchFormInput__fETAG",m="Form_button__8NOIT",b=t(184);var h=function(e){var n=e.onSubmit,t=(0,c.useState)({q:""}),o=(0,r.Z)(t,2),a=o[0],u=o[1];return(0,b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n((0,f.Z)({},a)),u({q:" "})},className:l,children:[(0,b.jsx)("input",{className:p,value:a.q,name:"q",onChange:function(e){var n=e.target,t=n.name,r=n.value;u((function(e){return(0,f.Z)((0,f.Z)({},e),{},(0,s.Z)({},t,r))}))},type:"text",placeholder:"Search movies"}),(0,b.jsx)("button",{type:"submit",className:m,children:(0,b.jsx)("span",{children:"Search"})})]})};function v(){var e=(0,a.TH)(),n=(0,c.useState)(null),t=(0,r.Z)(n,2),s=t[0],f=t[1],l=(0,o.lr)(),p=(0,r.Z)(l,2),m=p[0],v=p[1],d=m.get("q");return(0,c.useEffect)((function(){d&&(0,u.bI)(d).then((function(e){return f(e.results)}))}),[d]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h,{onSubmit:function(e){var n=e.q;v({q:n}),""!==n.trim()||alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441")}}),s&&(0,b.jsx)("ul",{children:s.map((function(n){return(0,b.jsx)("li",{children:(0,b.jsx)(o.rU,{to:"/movies/".concat(n.id),className:i,state:e,children:n.title})},n.id)}))})]})}},942:function(e,n,t){function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t.d(n,{Z:function(){return r}})},413:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(942);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}}}]);
//# sourceMappingURL=459.ba377385.chunk.js.map